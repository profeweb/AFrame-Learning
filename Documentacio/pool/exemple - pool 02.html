<html>
  <head>
	<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  </head>
  <body>
  <script>

      AFRAME.registerComponent('click-add', {
          init: function() {
              this.raycaster = null
              this.el.addEventListener('click', e => {
                  let pool = this.el.sceneEl.components["pool__spheres"]
                  let sphere = pool.requestEntity();
                  let intersection = this.raycaster.components.raycaster.getIntersection(this.el);
                  sphere.setAttribute('position', intersection.point)
              })

              this.el.addEventListener('raycaster-intersected', evt => {
                  this.raycaster = evt.detail.el;
              });
              this.el.addEventListener('raycaster-intersected-cleared', evt => {
                  this.raycaster = null;
              });

          }
      })
      AFRAME.registerComponent('click-return', {
          init: function() {
              this.el.addEventListener('click', e => {
                  let pool = this.el.sceneEl.components["pool__spheres"]
                  pool.returnEntity(this.el)
              })
          }
      })

  </script>
  <a-scene pool__spheres='mixin: ball; size: 10' cursor='rayOrigin: mouse'>
      <a-assets>
          <a-mixin id="ball" geometry='primitive: sphere' material="color: red" scale='0.1 0.1 0.1' click-return>
          </a-mixin>
      </a-assets>
      <a-plane click-add position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
  </a-scene>
  </body>
</html>


